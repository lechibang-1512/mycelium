@startuml business-process-qr-operations
title Business Process: QR Code Generation & Scanning

!include skinparams.puml

|User|
start

if (Operation Type?) then (Generate QR)
  |Staff/Admin|
  :Generate QR Code(s);
  note right
    Users can generate QR codes for:
    • Products (single or bulk)
    • Locations (warehouse, zone, bin)
    • Batches or individual serial numbers
    
    The system creates a secure payload,
    generates the QR image, and provides
    options to download or print.
  end note
  stop

else (Scan QR)
  |User|
  :Scan QR Code;
  
  |System|
  :Decode and Validate QR;
  note right
    The system captures the QR code via camera,
    decodes the payload, and validates its
    freshness, version, and integrity.
  end note
  
  if (QR Valid?) then (yes)
    :Display Information and Actions;
    note right
      Based on the QR type (product, location, etc.),
      the system displays relevant information and
      provides context-aware quick actions based
      on the user's role.
    end note
    
    |User|
    :Select Action;
    stop
    
  else (no)
    :Display Error and Log Event;
    note right
      If the QR code is invalid, expired, or
      unrecognized, an error message is shown
      and a security event is logged.
    end note
    stop
  endif
endif

@enduml
