@startuml activity-user-management
title Activity Diagram: User Management (Admin Only)

!include skinparams.puml

|Admin|
start
:Access User Management Page;

|System|
:Load and Display Users List;
note right
  After verifying admin privileges, the system
  displays a list of all users with their
  roles and current status.
end note

|Admin|
:Choose Action;

if (Action?) then (Create/Edit User)
  :Submit User Form;
  note right
    The admin can create a new user or edit an
    existing one. The system validates all input,
    hashes the password, and checks for uniqueness.
  end note
  
  |System|
  :Save User and Log Event;
  :Display Success or Error;
  stop

else (Update User Status)
  :Select User and Update Status;
  note right
    Admins can activate, deactivate, or unlock a
    user account. Deactivating a user also
    invalidates all their active sessions.
  end note
  
  |System|
  :Apply and Log Status Change;
  stop

else (Delete User)
  :Select User and Confirm Deletion;
  
  |System|
  :Perform Soft Delete;
  note right
    The system performs a soft delete by marking
    the user as 'deleted' and invalidating their
    sessions, while preserving their data for
    auditing purposes.
  end note
  stop

else (View Details or Bulk Actions)
  :Select User(s) and Action;
  note right
    Admins can view the detailed profile and
    activity of a single user, or perform
    bulk actions (e.g., activate, export)
    on multiple users at once.
  end note
  
  |System|
  :Execute and Display Results;
  stop
endif

@enduml
