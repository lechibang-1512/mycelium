@startuml warehouse-staff-usecase
title Warehouse Staff Use Case Diagram
left to right direction

skinparam backgroundColor #f8fafc
skinparam componentStyle uml2
skinparam usecase {
  BackgroundColor #dbeafe
  BorderColor #2b6cb0
  FontColor #0f172a
  FontSize 11
}
skinparam actor {
  BackgroundColor #ffffff
  BorderColor #2b6cb0
  FontColor #0f172a
}

actor "Warehouse Staff\n(role: staff)" as Staff #2b6cb0

' Authentication & Profile
usecase "Login to System" as UC_Login
usecase "Logout from System" as UC_Logout
usecase "Update Profile" as UC_UpdateProfile
usecase "Reset Password" as UC_ResetPassword

' Product Management
usecase "View Product Details" as UC_ViewProduct
usecase "Create Product" as UC_CreateProduct
usecase "Edit Product" as UC_EditProduct
usecase "Search Products" as UC_SearchProduct

' Receive Stock Operations
usecase "Receive Stock" as UC_ReceiveStock
usecase "Create Receipt" as UC_CreateReceipt
usecase "Confirm Provisional Receipt" as UC_ConfirmReceipt
usecase "Record Serial Numbers" as UC_RecordSerial
usecase "Assign to Zone/Bin" as UC_AssignZone

' Sell Stock Operations
usecase "Sell Stock" as UC_SellStock
usecase "Create Sale" as UC_CreateSale
usecase "Select Serial Numbers" as UC_SelectSerial
usecase "Apply FIFO/FEFO" as UC_ApplyFIFO
usecase "Check Stock Availability" as UC_CheckStock

' Warehouse Management
usecase "View Warehouse Details" as UC_ViewWarehouse
usecase "Create Warehouse" as UC_CreateWarehouse
usecase "Edit Warehouse" as UC_EditWarehouse
usecase "Manage Zones" as UC_ManageZones
usecase "Configure Bin Locations" as UC_ConfigureBins
usecase "Transfer Inventory" as UC_TransferInventory

' Supplier Management
usecase "View Supplier Details" as UC_ViewSupplier
usecase "Create Supplier" as UC_CreateSupplier
usecase "Edit Supplier" as UC_EditSupplier
usecase "Toggle Supplier Status" as UC_ToggleSupplier

' QR Code Operations
usecase "Generate Product QR" as UC_GenProductQR
usecase "Generate Location QR" as UC_GenLocationQR
usecase "Scan QR Code" as UC_ScanQR
usecase "Bulk Generate QR" as UC_BulkQR

' Serialized Inventory Tracking
usecase "Create Serial Record" as UC_CreateSerial
usecase "Lookup Serial Number" as UC_LookupSerial
usecase "Move Serial" as UC_MoveSerial
usecase "Update Serial Status" as UC_UpdateSerial
usecase "View Serial History" as UC_ViewSerialHistory

' Batch Management
usecase "Create Batch" as UC_CreateBatch
usecase "View Expiring Batches" as UC_ViewExpiring
usecase "Track Batch Movement" as UC_TrackBatch

' Analytics & Reports
usecase "View Dashboard" as UC_ViewDashboard
usecase "View Warehouse Analytics" as UC_ViewWarehouseAnalytics
usecase "View Receipt Analytics" as UC_ViewReceiptAnalytics
usecase "View Stock Alerts" as UC_ViewAlerts
usecase "Export Reports" as UC_ExportReports

' View Receipts
usecase "View Receipt List" as UC_ViewReceipts
usecase "View Receipt Details" as UC_ViewReceiptDetails

' === Include/Extend Relationships ===

' Authentication includes
UC_Login ..> "Validate Credentials" : <<include>>
UC_Login ..> "Check Account Status" : <<include>>
UC_Login ..> "Create Session Token" : <<include>>
UC_Login ..> "Log Login Event" : <<include>>

UC_Logout ..> "Invalidate Session" : <<include>>
UC_Logout ..> "Log Logout Event" : <<include>>

UC_UpdateProfile ..> "Validate Profile Data" : <<include>>
UC_UpdateProfile ..> UC_ResetPassword : <<extend>>

' Product Management includes
UC_CreateProduct ..> "Validate Product Data" : <<include>>
UC_CreateProduct ..> "Check SKU Uniqueness" : <<include>>
UC_CreateProduct ..> "Log Product Creation" : <<include>>

UC_EditProduct ..> "Validate Product Data" : <<include>>
UC_EditProduct ..> "Log Product Changes" : <<include>>

UC_ViewProduct ..> UC_SearchProduct : <<extend>>

' Receive Stock includes
UC_ReceiveStock ..> UC_CreateReceipt : <<include>>
UC_ReceiveStock ..> UC_AssignZone : <<include>>
UC_ReceiveStock ..> "Update Inventory" : <<include>>
UC_ReceiveStock ..> "Generate Receipt Document" : <<include>>
UC_ReceiveStock ..> UC_RecordSerial : <<extend>>
UC_ReceiveStock ..> UC_ConfirmReceipt : <<extend>>

UC_RecordSerial ..> "Validate Serial Uniqueness" : <<include>>
UC_RecordSerial ..> "Generate Serial QR" : <<include>>

UC_AssignZone ..> "Validate Zone Capacity" : <<include>>
UC_AssignZone ..> "Log Inventory Movement" : <<include>>

' Sell Stock includes
UC_SellStock ..> UC_CreateSale : <<include>>
UC_SellStock ..> UC_CheckStock : <<include>>
UC_SellStock ..> "Decrement Inventory" : <<include>>
UC_SellStock ..> "Generate Sale Document" : <<include>>
UC_SellStock ..> "Update Analytics" : <<include>>
UC_SellStock ..> UC_SelectSerial : <<extend>>
UC_SellStock ..> UC_ApplyFIFO : <<extend>>
UC_SellStock ..> "Create Backorder" : <<extend>>

UC_ApplyFIFO ..> "Select Oldest Batch" : <<include>>
UC_ApplyFIFO ..> "Deplete Batch Quantity" : <<include>>

' Warehouse Management includes
UC_CreateWarehouse ..> "Validate Warehouse Data" : <<include>>
UC_CreateWarehouse ..> "Create Default Zones" : <<include>>
UC_CreateWarehouse ..> "Log Warehouse Creation" : <<include>>

UC_ManageZones ..> "Create Zone" : <<extend>>
UC_ManageZones ..> "Edit Zone" : <<extend>>
UC_ManageZones ..> "Delete Zone" : <<extend>>
UC_ManageZones ..> "Validate Zone Capacity" : <<include>>

UC_ConfigureBins ..> "Create Bin Location" : <<include>>
UC_ConfigureBins ..> "Assign Aisle-Shelf-Bin" : <<include>>

UC_TransferInventory ..> "Validate Source Stock" : <<include>>
UC_TransferInventory ..> "Validate Destination Capacity" : <<include>>
UC_TransferInventory ..> "Log Transfer" : <<include>>
UC_TransferInventory ..> "Update Inventory Locations" : <<include>>

' Supplier Management includes
UC_CreateSupplier ..> "Validate Supplier Data" : <<include>>
UC_CreateSupplier ..> "Log Supplier Creation" : <<include>>

UC_EditSupplier ..> "Validate Supplier Data" : <<include>>
UC_EditSupplier ..> "Log Supplier Changes" : <<include>>
UC_EditSupplier ..> UC_ToggleSupplier : <<extend>>

' QR Code includes
UC_ScanQR ..> "Parse QR Payload" : <<include>>
UC_ScanQR ..> "Validate QR Freshness" : <<include>>
UC_ScanQR ..> "Display Quick Actions" : <<include>>

UC_GenProductQR ..> "Embed Version/Nonce" : <<include>>
UC_GenProductQR ..> "Generate QR Image" : <<include>>

UC_GenLocationQR ..> "Embed Version/Nonce" : <<include>>
UC_GenLocationQR ..> "Generate QR Image" : <<include>>

UC_BulkQR ..> "Generate Multiple QR" : <<include>>
UC_BulkQR ..> "Export for Printing" : <<include>>

' Serialized Inventory includes
UC_CreateSerial ..> "Validate Serial Uniqueness" : <<include>>
UC_CreateSerial ..> "Link to Batch" : <<include>>
UC_CreateSerial ..> "Generate Serial QR" : <<include>>
UC_CreateSerial ..> "Log Serial Creation" : <<include>>

UC_MoveSerial ..> "Validate Location" : <<include>>
UC_MoveSerial ..> "Log Serial Movement" : <<include>>

UC_UpdateSerial ..> "Validate Status Transition" : <<include>>
UC_UpdateSerial ..> "Log Status Change" : <<include>>

UC_LookupSerial ..> UC_ViewSerialHistory : <<extend>>

' Batch Management includes
UC_CreateBatch ..> "Validate Batch Data" : <<include>>
UC_CreateBatch ..> "Track Expiry Date" : <<include>>
UC_CreateBatch ..> "Generate Batch QR" : <<include>>

UC_ViewExpiring ..> "Sort by Expiry Date" : <<include>>
UC_ViewExpiring ..> "Filter by Warehouse" : <<include>>

' Analytics includes
UC_ViewDashboard ..> "Display KPIs" : <<include>>
UC_ViewDashboard ..> "Render Charts" : <<include>>
UC_ViewDashboard ..> "Apply Date Filters" : <<extend>>

UC_ViewWarehouseAnalytics ..> "Calculate Zone Utilization" : <<include>>
UC_ViewWarehouseAnalytics ..> "Display Throughput Metrics" : <<include>>

UC_ViewReceiptAnalytics ..> "Calculate Volume Trends" : <<include>>
UC_ViewReceiptAnalytics ..> "Calculate Value Trends" : <<include>>

UC_ExportReports ..> "Export to CSV" : <<extend>>
UC_ExportReports ..> "Export to Excel" : <<extend>>
UC_ExportReports ..> "Export to PDF" : <<extend>>

' View Receipts includes
UC_ViewReceipts ..> "Filter by Date Range" : <<extend>>
UC_ViewReceipts ..> "Filter by Type" : <<extend>>
UC_ViewReceipts ..> UC_ViewReceiptDetails : <<extend>>

UC_ViewReceiptDetails ..> UC_ExportReports : <<extend>>

' === Actor Relationships ===

' Authentication
Staff --> UC_Login
Staff --> UC_Logout
Staff --> UC_UpdateProfile

' Product Management
Staff --> UC_ViewProduct
Staff --> UC_CreateProduct
Staff --> UC_EditProduct

' Inventory Operations
Staff --> UC_ReceiveStock
Staff --> UC_SellStock

' Warehouse Management
Staff --> UC_ViewWarehouse
Staff --> UC_CreateWarehouse
Staff --> UC_EditWarehouse
Staff --> UC_ManageZones
Staff --> UC_ConfigureBins
Staff --> UC_TransferInventory

' Supplier Management
Staff --> UC_ViewSupplier
Staff --> UC_CreateSupplier
Staff --> UC_EditSupplier

' QR Code Operations
Staff --> UC_GenProductQR
Staff --> UC_GenLocationQR
Staff --> UC_ScanQR
Staff --> UC_BulkQR

' Serialized Inventory
Staff --> UC_CreateSerial
Staff --> UC_LookupSerial
Staff --> UC_MoveSerial
Staff --> UC_UpdateSerial

' Batch Management
Staff --> UC_CreateBatch
Staff --> UC_ViewExpiring
Staff --> UC_TrackBatch

' Analytics & Reports
Staff --> UC_ViewDashboard
Staff --> UC_ViewWarehouseAnalytics
Staff --> UC_ViewReceiptAnalytics
Staff --> UC_ViewAlerts

' View Receipts
Staff --> UC_ViewReceipts

rectangle "CRUD Operations\n• Create, Edit, View\n• Cannot Delete\n• Toggle Status\n• Track History" as CRUDNote #dbeafe

note top of CRUDNote
  **Warehouse Staff Capabilities:**
  
  **Inventory Operations:**
  • Receive and sell stock with full tracking
  • Serial number and batch management
  • Zone and bin assignment
  • FIFO/FEFO strategies
  
  **Warehouse Management:**
  • Create and edit warehouses
  • Manage zones and bin locations
  • Transfer inventory between locations
  • View warehouse analytics
  
  **Product & Supplier:**
  • Create and edit products
  • Create and edit suppliers
  • View details and search
  
  **QR Operations:**
  • Generate QR codes (product, location, batch, serial)
  • Scan QR codes with quick actions
  • Bulk QR generation
  
  **Analytics & Reporting:**
  • View dashboards and KPIs
  • View warehouse analytics
  • View receipt analytics
  • Export reports in multiple formats
  
  **Limitations:**
  • Cannot delete products, receipts, or suppliers
  • Cannot manage users or sessions
  • Cannot access admin-only functions
  
  **Role:** staff
  **Middleware:** isStaffOrAdmin
end note

@enduml
